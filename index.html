<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéª TuneVault - Old Time Tune Library</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg-primary: #0a0a0f; --bg-secondary: #12121a; --bg-card: rgba(255,255,255,0.03); --text-primary: #e8e4dc; --text-secondary: #7a756c; --accent: #c9a227; --border: rgba(201, 162, 39, 0.15); }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Georgia', serif; background: var(--bg-primary); min-height: 100vh; color: var(--text-primary); padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        header { text-align: center; padding: 25px 0 15px; }
        h1 { font-size: 2rem; color: var(--accent); letter-spacing: 3px; }
        .tagline { color: var(--text-secondary); font-size: 0.85rem; margin-bottom: 15px; }
        
        .tip-btn { display: inline-block; padding: 8px 16px; background: linear-gradient(135deg, #ff6b6b, #ff8e53); color: white; text-decoration: none; border-radius: 20px; font-weight: bold; font-size: 0.8rem; margin-bottom: 15px; }
        
        .search-box { background: var(--bg-card); padding: 12px; border-radius: 10px; border: 1px solid var(--border); margin-bottom: 12px; }
        .search-box input { width: 100%; padding: 10px; font-size: 0.9rem; border: 2px solid var(--border); border-radius: 6px; background: var(--bg-secondary); color: var(--text-primary); }
        
        .filters { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 12px; }
        .filters select { width: 100%; padding: 8px; background: var(--bg-card); border: 1px solid var(--border); border-radius: 6px; color: var(--text-primary); font-size: 0.8rem; }
        
        .stats { padding: 10px; background: rgba(201,162,39,0.1); border-radius: 8px; margin-bottom: 12px; text-align: center; color: var(--accent); font-weight: bold; font-size: 0.85rem; }
        
        .tune-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 8px; }
        .tune-card { background: var(--bg-card); border-radius: 8px; border: 1px solid var(--border); padding: 10px; cursor: pointer; transition: 0.3s; }
        .tune-card:hover { border-color: var(--accent); transform: translateY(-2px); }
        .tune-card h3 { color: var(--accent); font-size: 0.8rem; margin-bottom: 4px; }
        .tune-card .region { color: var(--text-secondary); font-size: 0.6rem; margin-bottom: 6px; }
        .tune-card .tags .tag { display: inline-block; padding: 2px 4px; background: rgba(201,162,39,0.15); border-radius: 4px; font-size: 0.5rem; color: var(--accent); margin-right: 2px; }
        
        .detail-view { display: none; }
        .detail-view.active { display: block; }
        .back-btn { background: transparent; border: 1px solid var(--accent); color: var(--accent); padding: 8px 16px; border-radius: 6px; cursor: pointer; margin-bottom: 12px; font-size: 0.9rem; }
        
        /* EMBEDDED VIDEO - STAYS IN APP */
        .video-wrapper { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 10px; border: 2px solid var(--accent); margin-bottom: 12px; background: #000; }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
        
        /* EMBEDDED AUDIO - STAYS IN APP */
        .audio-player { background: rgba(201,162,39,0.15); border-radius: 10px; padding: 12px; margin-bottom: 12px; border: 1px solid var(--accent); }
        .audio-player audio { width: 100%; height: 40px; }
        .audio-label { color: var(--accent); font-size: 0.75rem; margin-bottom: 6px; display: block; }
        
        .detail-header { background: rgba(201,162,39,0.1); padding: 15px; border-radius: 10px; margin-bottom: 12px; border: 1px solid var(--border); }
        .detail-header h2 { color: var(--accent); font-size: 1.4rem; margin-bottom: 4px; }
        
        .source-link { display: block; padding: 8px; background: var(--bg-card); border-radius: 6px; margin-bottom: 6px; text-decoration: none; color: var(--text-primary); border: 1px solid var(--border); text-align: center; font-size: 0.75rem; }
        .source-link:hover { border-color: var(--accent); }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéª TUNEVAULT <span style="font-size:0.5em;color:var(--text-secondary)">v1.5</span></h1>
            <p class="tagline">One-Stop Old Time Fiddle Library</p>
            <a href="https://ko-fi.com/headspacedesignstudio" target="_blank" class="tip-btn">‚òï Support</a>
        </header>
        
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search 70+ tunes..." onkeyup="if(event.key==='Enter')doSearch()">
        </div>
        
        <div class="filters">
            <select id="sourceFilter" onchange="applyFilters()">
                <option value="">All Regions</option>
                <option value="appalachian">Appalachian</option>
                <option value="kentucky">Kentucky</option>
                <option value="tennessee">Tennessee</option>
                <option value="irish">Irish</option>
                <option value="north carolina">N. Carolina</option>
                <option value="virginia">Virginia</option>
                <option value="georgia">Georgia</option>
            </select>
            <select id="difficultyFilter" onchange="applyFilters()">
                <option value="">All Levels</option>
                <option value="beginner">Beginner</option>
                <option value="intermediate">Intermediate</option>
                <option value="advanced">Advanced</option>
            </select>
            <select id="keyFilter" onchange="applyFilters()">
                <option value="">All Keys</option>
                <option value="G">G</option>
                <option value="D">D</option>
                <option value="A">A</option>
                <option value="C">C</option>
            </select>
        </div>
        
        <div class="stats" id="stats">Loading...</div>
        
        <div class="tune-grid" id="tuneGrid"></div>
        
        <div class="detail-view" id="detailView">
            <button class="back-btn" onclick="showLibrary()">‚Üê Back to Library</button>
            
            <div class="detail-header">
                <h2 id="detailName"></h2>
                <p class="region" id="detailRegion"></p>
            </div>
            
            <!-- EMBEDDED AUDIO - STAYS IN APP -->
            <div class="audio-player" id="audioContainer" style="display:none;">
                <span class="audio-label">üéµ Listen to Recording</span>
                <audio id="audioPlayer" controls preload="none">
                    <source src="" type="audio/mpeg">
                    Your browser does not support audio.
                </audio>
            </div>
            
            <!-- EMBEDDED VIDEO - STAYS IN APP -->
            <div class="video-wrapper" id="videoContainer">
                <iframe id="ytPlayer" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            
            <div class="tune-meta" id="detailMeta" style="margin-bottom: 12px;"></div>
            
            <div class="detail-section">
                <div id="detailLinks"></div>
            </div>
        </div>
    </div>
    
    <script>
// YouTube Video IDs - WORKING EMBED
const tuneVideos = {
    "Old Joe Clark": "vhI7d0dqW_jk",
    "Cripple Creek": "hCZ0k_XwqZo",
    "Arkansas Traveler": "OY_jF2wBz84",
    "Salt River": "vXaR_6XWQz8",
    "Bill Cheatham": "O0g_6XqFjH8",
    "June Apple": "K0V6xvdRZ4U",
    "Cluck Old Hen": "sKfOcKx5Pzw",
    "Turkey in the Straw": "L2z6q-BBepE",
    "Wildwood Flower": "F1jE4jXK1eE",
    "Liberty": "L3nLJJTG2Xk"
};

// Audio placeholders - can add real URLs later
const tuneAudio = {
    // Add direct audio URLs here when available
};

// 70+ TUNES DATABASE
const tuneDatabase = [
{ name: "Old Joe Clark", region: "Appalachian / Southern", keys: ["A", "G"], difficulty: "Beginner" },
{ name: "Cripple Creek", region: "Virginia / Appalachian", keys: ["G"], difficulty: "Beginner" },
{ name: "Arkansas Traveler", region: "Ozarks / Arkansas", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Salt River", region: "Kentucky / Appalachian", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Bill Cheatham", region: "Tennessee / Appalachian", keys: ["A", "D"], difficulty: "Intermediate" },
{ name: "Pretty Saro", region: "Virginia / Appalachian", keys: ["D", "G"], difficulty: "Intermediate" },
{ name: "June Apple", region: "Virginia / Appalachian", keys: ["A", "D"], difficulty: "Intermediate" },
{ name: "Cluck Old Hen", region: "Georgia / Appalachian", keys: ["A", "G"], difficulty: "Intermediate" },
{ name: "Twin Sisters", region: "Appalachian", keys: ["G", "C"], difficulty: "Beginner" },
{ name: "Fireball Mail", region: "Tennessee / Appalachian", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Kitchen Girl", region: "Virginia / Appalachian", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Liberty", region: "Appalachian / Tennessee", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Cumberland Gap", region: "Appalachian / Kentucky", keys: ["G"], difficulty: "Beginner" },
{ name: "Turkey in the Straw", region: "American", keys: ["G", "D"], difficulty: "Beginner" },
{ name: "Wildwood Flower", region: "Appalachian / American", keys: ["G", "C"], difficulty: "Beginner" },
{ name: "Nine Pound Hammer", region: "Appalachian / Kentucky", keys: ["G"], difficulty: "Beginner" },
{ name: "Soldier's Joy", region: "American", keys: ["D", "G"], difficulty: "Beginner" },
{ name: "Old Molly Hare", region: "Appalachian", keys: ["G"], difficulty: "Beginner" },
{ name: "Durang's Hornpipe", region: "Appalachian / Pennsylvania", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Mississippi Sawyer", region: "Appalachian", keys: ["D"], difficulty: "Intermediate" },
{ name: "John Brown's Dream", region: "Appalachian", keys: ["A", "G"], difficulty: "Intermediate" },
{ name: "Ragtime Cowboy", region: "Western / Appalachian", keys: ["D"], difficulty: "Intermediate" },
{ name: "Sourwood Mountain", region: "Appalachian / North Carolina", keys: ["D", "G"], difficulty: "Beginner" },
{ name: "Old Tired", region: "Appalachian", keys: ["G"], difficulty: "Beginner" },
{ name: "Gray Eagle", region: "Appalachian / Southern", keys: ["G", "C"], difficulty: "Intermediate" },
{ name: "Bonaparte's Retreat", region: "Appalachian / Kentucky", keys: ["G", "A"], difficulty: "Intermediate" },
{ name: "Rocky Mountain", region: "Appalachian / Southern", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Kickin' the Gong Around", region: "Appalachian", keys: ["G"], difficulty: "Advanced" },
{ name: "Floggin' Molly", region: "Appalachian / Irish", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Big Scioty", region: "Appalachian / Ohio", keys: ["D"], difficulty: "Intermediate" },
{ name: "Leather Britches", region: "Appalachian / Virginia", keys: ["D", "G"], difficulty: "Intermediate" },
{ name: "Wheel Hounds", region: "Appalachian", keys: ["G"], difficulty: "Beginner" },
{ name: "Chub", region: "Appalachian", keys: ["D"], difficulty: "Intermediate" },
{ name: "Tombigbee", region: "Appalachian / Alabama", keys: ["G"], difficulty: "Beginner" },
{ name: "Hog Eye", region: "Appalachian / Virginia", keys: ["G"], difficulty: "Beginner" },
{ name: "Waynesboro", region: "Appalachian / Virginia", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Southwestern", region: "Appalachian / Missouri", keys: ["G"], difficulty: "Beginner" },
{ name: "Fisher's Hornpipe", region: "Irish-American", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "St. Anne's Reel", region: "Irish-American", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "La Russe", region: "New England / Irish", keys: ["G", "A"], difficulty: "Intermediate" },
{ name: "Sherman's", region: "Irish-American", keys: ["D"], difficulty: "Intermediate" },
{ name: "Morrison's Jig", region: "Irish-American", keys: ["D"], difficulty: "Intermediate" },
{ name: "Lady's Delight", region: "Irish-American", keys: ["G", "D"], difficulty: "Intermediate" },
{ name: "Rights of Man", region: "Irish-American", keys: ["D", "G"], difficulty: "Intermediate" },
{ name: "Paddy on the Turnpike", region: "Irish-American", keys: ["D", "A"], difficulty: "Beginner" },
{ name: "Apple Tree", region: "Irish-American", keys: ["D", "G"], difficulty: "Beginner" },
{ name: "Silver Spear", region: "Irish-American", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Merry Blacksmith", region: "Irish-American", keys: ["D"], difficulty: "Intermediate" },
{ name: "Temperance Reel", region: "Irish-American", keys: ["D"], difficulty: "Intermediate" },
{ name: "Done Gone", region: "Southern / Blues", keys: ["G"], difficulty: "Beginner" },
{ name: "Ragtop", region: "Southern / Blues", keys: ["G"], difficulty: "Intermediate" },
{ name: "Molly Put the Kettle On", region: "Southern / Blues", keys: ["G"], difficulty: "Beginner" },
{ name: "Take Me Back", region: "Southern / Blues", keys: ["G"], difficulty: "Intermediate" },
{ name: "I Truly Understand", region: "Southern / Blues", keys: ["G"], difficulty: "Intermediate" },
{ name: "Old Country Road", region: "Southern / Blues", keys: ["G"], difficulty: "Beginner" },
{ name: "Natchez", region: "Southern", keys: ["G"], difficulty: "Advanced" },
{ name: "Cincinnati", region: "Southern", keys: ["G"], difficulty: "Intermediate" },
{ name: "Gulf Coast", region: "Southern / Gulf", keys: ["G"], difficulty: "Intermediate" },
{ name: "Red Fox", region: "Southern", keys: ["G", "C"], difficulty: "Beginner" },
{ name: "Natchez Under the Hill", region: "Appalachian / Mississippi", keys: ["G"], difficulty: "Intermediate" },
{ name: "Jackson's", region: "North Carolina", keys: ["A", "G"], difficulty: "Intermediate" },
{ name: "Rafe's Renown", region: "North Carolina", keys: ["A", "D"], difficulty: "Advanced" },
{ name: "Ida Red", region: "North Carolina", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Tom Dooley", region: "North Carolina / Appalachian", keys: ["G"], difficulty: "Beginner" },
{ name: "Feast Here Tonight", region: "North Carolina", keys: ["G"], difficulty: "Intermediate" },
{ name: "Little Birdie", region: "North Carolina", keys: ["G", "D"], difficulty: "Intermediate" },
{ name: "Going to Georgia", region: "Georgia / Appalachian", keys: ["D", "A"], difficulty: "Intermediate" },
{ name: "Ducks in the Pond", region: "Georgia / Appalachian", keys: ["G"], difficulty: "Beginner" },
{ name: "Hen of the Woods", region: "Georgia", keys: ["G"], difficulty: "Intermediate" },
{ name: "Walk in the Parlor", region: "Georgia / Appalachian", keys: ["G"], difficulty: "Beginner" },
{ name: "Sifting Sand", region: "Georgia / Appalachian", keys: ["G"], difficulty: "Beginner" }
];

function displayTunes(tunes) {
    document.getElementById('tuneGrid').innerHTML = tunes.map(tune => {
        const hasVid = tuneVideos[tune.name] ? 'üéµ' : '';
        const hasAudio = tuneAudio[tune.name] ? 'üîä' : '';
        return '<div class="tune-card" onclick="showTune(\''+tune.name.replace(/'/g,"\\'")+'\')"><h3>'+hasVid+hasAudio+' '+tune.name+'</h3><p class="region">'+tune.region+'</p><div class="tags">'+tune.keys.map(k=>'<span class="tag">'+k+'</span>').join('')+' <span class="tag">'+tune.difficulty+'</span></div></div>';
    }).join('');
    document.getElementById('stats').innerHTML = '<strong>'+tunes.length+'</strong> tunes - One-Stop Old Time Fiddle Library';
}

function doSearch() {
    const q = document.getElementById('searchInput').value.toLowerCase();
    const r = tuneDatabase.filter(t => t.name.toLowerCase().includes(q) || t.region.toLowerCase().includes(q));
    displayTunes(r);
}

function applyFilters() {
    let f = tuneDatabase;
    const s = document.getElementById('sourceFilter').value;
    const d = document.getElementById('difficultyFilter').value;
    const k = document.getElementById('keyFilter').value;
    if (s) f = f.filter(t => t.region.toLowerCase().includes(s));
    if (d) f = f.filter(t => t.difficulty.toLowerCase() === d);
    if (k) f = f.filter(t => t.keys.includes(k));
    displayTunes(f);
}

function showTune(name) {
    const tune = tuneDatabase.find(t => t.name === name);
    document.getElementById('detailName').textContent = tune.name;
    document.getElementById('detailRegion').textContent = tune.region;
    document.getElementById('detailMeta').innerHTML = tune.keys.map(k => '<span class="tag">'+k+'</span>').join('') + ' <span class="tag">'+tune.difficulty+'</span>';
    
    // EMBED AUDIO - STAYS IN APP
    const audioUrl = tuneAudio[tune.name];
    const audioContainer = document.getElementById('audioContainer');
    const audioPlayer = document.getElementById('audioPlayer');
    if (audioUrl) {
        audioContainer.style.display = 'block';
        audioPlayer.src = audioUrl;
    } else {
        audioContainer.style.display = 'none';
        audioPlayer.src = '';
    }
    
    // EMBED VIDEO - STAYS IN APP
    const vid = tuneVideos[tune.name];
    if (vid) {
        document.getElementById('ytPlayer').src = 'https://www.youtube.com/embed/' + vid + '?autoplay=1&rel=0';
    } else {
        document.getElementById('ytPlayer').src = '';
    }
    
    // External resources
    document.getElementById('detailLinks').innerHTML = 
        '<a href="https://www.youtube.com/results?search_query='+encodeURIComponent(tune.name)+'+old+time+fiddle" target="_blank" class="source-link">üé• More Videos</a>' +
        '<a href="https://www.taterjoes.com/search?q='+encodeURIComponent(tune.name)+'" target="_blank" class="source-link">ü•Å Tater Joe\'s</a>';
    
    document.getElementById('tuneGrid').style.display = 'none';
    document.getElementById('detailView').classList.add('active');
}

function showLibrary() {
    document.getElementById('ytPlayer').src = '';
    document.getElementById('audioPlayer').src = '';
    document.getElementById('detailView').classList.remove('active');
    document.getElementById('tuneGrid').style.display = 'grid';
}

displayTunes(tuneDatabase);
    </script>
</body>
</html>
